---
// import { Image } from 'astro:assets';
import profilePic from '../assets/images/blue.png';
---

<header x-cloak x-data="{ open: false }" class="w-full px-4 relative">
	<div class="flex items-center justify-between max-w-screen-lg py-4 mx-auto">
		<div>
			<a href="/" class="flex items-center gap-3">
				<img src={profilePic.src} class="transition-all duration-200 rounded-full size-10 hover:scale-110" width="80" height="80" alt="blue orb" loading="lazy" />
				<!-- <span class="uppercase text-xl hover:scale-105 duration-300 ease-linear transition-all">jeksn.me</span> -->
			</a>
		</div>
		<div class="flex items-center justify-center relative">
			<button @click="open = !open" @keydown.escape="open = false" @click.outside="open = false" class="z-10 relative px-4 py-2 rounded-full flex items-center justify-center text-sm transition-all duration-150 ease-linear gap-2 bg-white/10 hover:bg-white/20">
				<span x-show="!open">MENU</span>
				<span x-show="open">CLOSE</span>
				<div>
					<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-8 text-white" x-show="open">
						<path stroke-linecap="square" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
					</svg>
					<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-8 text-white" x-show="!open">
						<path stroke-linecap="square" stroke-linejoin="round" d="M3.75 9h16.5m-16.5 6.75h16.5" />
					</svg>
				</div>
			</button>
			<div 
				x-show="open" 
				x-transition:enter="transition ease-out duration-200" 
				x-transition:enter-start="transform opacity-0 scale-95" 
				x-transition:enter-end="transform opacity-100 scale-100" 
				x-transition:leave="transition ease-in duration-150" 
				x-transition:leave-start="transform opacity-100 scale-100"
				x-transition:leave-end="transform opacity-0 scale-95"
				class="absolute top-14 right-0 bg-white/10 z-5 rounded-2xl shadow-lg backdrop-blur-md border border-white/10 w-64 md:w-80 origin-top-right pointer-events-auto">
				<ul class="flex flex-col px-6 py-6 text-white text-lg md:text-xl space-y-4">
					<li class="hover:opacity-80"><a href="/projects" class="block py-1">Projects</a></li>
					<li class="hover:opacity-80"><a href="/now" class="block py-1">Now</a></li>
					<li class="hover:opacity-80"><a href="/uses" class="block py-1">Uses</a></li>
					<li class="hover:opacity-80"><a href="/reading-list" class="block py-1">Reading List</a></li>
					<li class="hover:opacity-80"><a href="/cv" class="block py-1">CV</a></li>
				</ul>
			</div>
		</div>
	</div>
</header>
<style>

[x-cloak] { display: none !important; }

header a, header span {
	font-family: 'Space Grotesk Variable', sans-serif;
}
</style>
