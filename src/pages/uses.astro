---
import Head from '../components/Head.astro';
import LayoutLight from '../layouts/LayoutLight.astro';
import SmallHero from '../components/SmallHero.astro';
import AppsServices from '../../public/data/apps-services.json';
import Gear from '../../public/data/gear.json';
import Headphones from '../../public/data/headphones.json';
import Other from '../../public/data/other.json';

const title = 'Uses';
const subtitle = "An ever evolving list of some of the apps, services and gear I use.";

// Categories for the sidebar
const categories = ['Apps & Services', 'Gear', 'Headphones'];
---

<Head title={title} />
<LayoutLight>
	<SmallHero title={title} subtitle={subtitle} />
	<section class="pt-12 pb-16 px-4">
		<div class="mt-6 max-w-screen-lg mx-auto">
			<div class="grid grid-cols-1 md:grid-cols-5 gap-8">
				<!-- Left sidebar with categories - Desktop view and Mobile dropdown -->
				<div class="md:col-span-1">
					<!-- Desktop view - visible on md screens and above -->
					<div class="hidden md:block sticky top-8 space-y-8">
						<div>
							<ul class="space-y-2">
								{categories.map((category) => (
									<li>
										<a href={`#${category.toLowerCase().replace(/[&\s]+/g, '-')}`} class="text-sm text-[#939393] hover:text-white transition-colors">
											{category}
										</a>
									</li>
								))}
							</ul>
						</div>
					</div>
					
					<!-- Mobile dropdown - visible on smaller screens -->
					<div x-data="{ open: false }" class="md:hidden mb-8">
						<button 
							@click="open = !open" 
							class="w-full flex items-center justify-between p-4 bg-zinc-800 text-white rounded-md"
						>
							<span class="text-sm">Choose section</span>
							<svg 
								xmlns="http://www.w3.org/2000/svg" 
								fill="none" 
								viewBox="0 0 24 24" 
								stroke-width="1.5" 
								stroke="currentColor" 
								class="w-5 h-5 transition-transform" 
								:class="{'rotate-180': open}"
							>
								<path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
							</svg>
						</button>
						
						<div 
							x-show="open" 
							x-transition:enter="transition ease-out duration-200" 
							x-transition:enter-start="transform opacity-0 scale-95" 
							x-transition:enter-end="transform opacity-100 scale-100" 
							x-transition:leave="transition ease-in duration-150" 
							x-transition:leave-start="transform opacity-100 scale-100"
							x-transition:leave-end="transform opacity-0 scale-95"
							class="mt-2 bg-zinc-800 rounded-md shadow-lg overflow-hidden z-10 relative"
							@click.away="open = false"
						>
							<ul class="py-1">
								{categories.map((category) => (
									<li>
										<a 
											href={`#${category.toLowerCase().replace(/[&\s]+/g, '-')}`}
											@click="open = false"
											class="block px-4 py-2 text-sm text-[#939393] hover:bg-zinc-700 hover:text-white transition-colors"
										>
											{category}
										</a>
									</li>
								))}
							</ul>
						</div>
					</div>
				</div>

				<!-- Right content area with uses information -->
				<div class="md:col-span-4 space-y-12">
					<!-- Apps & Services Section -->
					<div id="apps-services" class="scroll-mt-8">
						<h2 class="text-2xl font-medium text-white mb-6">Apps & Services</h2>
						<ul class="space-y-4">
							{AppsServices.map((app) => (
								<li class="grid grid-cols-1 text-sm gap-2">
									<div class="space-y-1">
										<p class="text-white">{app.name}</p>
										<p class="text-[#939393]">{app.description}</p>
									</div>
								</li>
							))}
						</ul>
					</div>

					<!-- Gear Section -->
					<div id="gear" class="scroll-mt-8">
						<h2 class="text-2xl font-medium text-white mb-6">Gear</h2>
						<ul class="space-y-4">
							{Gear.map((item) => (
								<li class="grid grid-cols-1 text-sm gap-2">
									<div class="space-y-1">
										<p class="text-white">{item.name}</p>
										<p class="text-[#939393]">{item.description}</p>
									</div>
								</li>
							))}
						</ul>
					</div>

					<!-- Headphones Section -->
					<div id="headphones" class="scroll-mt-8">
						<h2 class="text-2xl font-medium text-white mb-6">Headphones</h2>
						<ul class="space-y-4">
							{Headphones.map((item) => (
								<li class="grid grid-cols-1 text-sm gap-2">
									<div class="space-y-1">
										<p class="text-white">{item.name}</p>
										<p class="text-[#939393]">{item.description}</p>
									</div>
								</li>
							))}
						</ul>
					</div>
				</div>
			</div>
		</div>
	</section>
</LayoutLight>

<style>
	/* Smooth scrolling for anchor links */
	html {
		scroll-behavior: smooth;
	}
</style>
